# 简介
MyCIM是我编写的一个类似于QQ一样的Android即时通讯软件<br/>
很久之前就想着要做一个即时通讯应用玩玩，而在毕业后虽然从事android开发相关的工作，但是都是跟H5相关的，对于原生开发，也渐渐变得生疏了<br/>
为了练练手，索性自己编写了这么一个CIM即时通讯的软件，自己完成客户端和后台服务器（对应的工程名称在我的github目录下：https://github.com/calow/MyMinaServer   ）的设计与实现<br/>

#涉及内容：
##1.使用到的框架：
（1）服务器端主要使用SSH框架搭建、使用mina框架维系与客户端的连接<br/>
（2）客户端主要使用到mina框架建立与服务器的连接<br/>

##2.通讯方式：
（1）使用socket发送xml格式字符串完成客户端与服务器的聊天内容传输。
（2）客户端使用httpclient和httpurlconnection发送和下载文件

##3.使用到的知识：
###（1）sqlcipher使用：<br/>
使用sqlcipher加密保存用户保存在手机本地的数据<br/>

###（2）LruCache和DiskLruCache的使用：
使用LruCache在内存中加载缓存图片<br/>
使用DiskLruCache缓存用户头像到手机sd卡<br/>

###（3）java反射机制的使用：
####使用java反射机制动态加载并运行PC工具和移动工具（工具是java代码、html、css、js文件的集合）<br/>

首先主要涉及到对jar的解压和运行工具请求处理（说明：先解压工具jar包到服务器根目录，然后将客户端请求重定向到具体的工具页面）<br/>
其次涉及到对工具页面请求的处理（拦截工具页面请求，动态加载工具jar包java代码，执行工具方法――》包括对数据库信息的增删改查）<br/>

###（4）jar包、图片、语音等文件上传：
使用strust2文件上传功能完成客户端文件的上传，并存储到Mysql数据库中，方便数据库迁移时连同数据一起迁移<br/>

###（5）使用webview实现插件化开发：
使用webview加载访问互联网网页<br/>
从服务器下载本地工具，在手机本地解压，通过webview动态加载本地工具页面<br/>
通过webview实现js与java native端的相互调用

###（6）自定义view和viewgroup
###（7）在聊天内容中表情文字的使用（spannablestring）
###（8）帧动画使用
###等等等...

#已完成功能：
###1.注册登录
###2.搜索用户
###3.添加好友
###4.好友分组
###5.发送私聊室消息
###6.发送群聊消息
###7.消息推送
###8.发送表情消息
###9.工具开发平台
###10.java工具开发工程
###11.本地工具开发工程
###12.运行java工具
###13.运行本地工具
###14.加载网页
###15.等等等...

#后续待完成功能：
###1.发送语音
###2.附近的人
###3.创建群聊
###4.删除好友
###5.等等等...